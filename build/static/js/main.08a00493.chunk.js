(this.webpackJsonppuhelinluettelo=this.webpackJsonppuhelinluettelo||[]).push([[0],{20:function(e,n,t){},38:function(e,n,t){"use strict";t.r(n);var r=t(0),c=t(2),o=t.n(c),a=t(14),i=t.n(a),u=(t(20),t(3)),l=function(e){var n=e.contacts,t=e.filter,c=e.removeButtonHandler;return 0===n.length?Object(r.jsx)("div",{}):Object(r.jsx)("ul",{children:n.filter((function(e){return e.name.toLowerCase().includes(t.toLowerCase())})).map((function(e){return Object(r.jsxs)("li",{children:[e.name," ",e.number,Object(r.jsx)("button",{onClick:function(){window.confirm("Delete ".concat(e.name,"?"))&&c(e.id)},value:e.id,children:"delete"})]},e.name)}))})},d=t(4),s=t.n(d),b="/api/persons",j={getAll:function(){return s.a.get(b).then((function(e){return e.data}))},create:function(e){return s.a.post(b,e).then((function(e){return e.data}))},remove:function(e){return s.a.delete("".concat(b,"/").concat(e))},modify:function(e){return s.a.put("".concat(b,"/").concat(e.id),e).then((function(e){return e.data}))}},f=function(e){var n=e.message,t=e.style;return null===n?null:Object(r.jsx)("div",{style:t,children:n})},h=function(e){return Object(r.jsxs)("div",{children:["filter shown with",Object(r.jsx)("input",{value:e.filter,onChange:e.handleFilterChange})]})},m=function(e){return Object(r.jsxs)("form",{onSubmit:e.addContact,children:[Object(r.jsxs)("div",{children:["name:",Object(r.jsx)("input",{value:e.newName,onChange:e.handleNameChange})]}),Object(r.jsxs)("div",{children:["number:",Object(r.jsx)("input",{value:e.newNumber,onChange:e.handleNumberChange})]}),Object(r.jsx)("div",{children:Object(r.jsx)("button",{type:"submit",children:"add"})})]})},O=function(){var e={color:"green",background:"lightgrey",fontSize:20,borderStyle:"solid",borderRadius:5,padding:10,marginBottom:10},n={color:"red",background:"lightgrey",fontSize:20,borderStyle:"solid",borderRadius:5,padding:10,marginBottom:10},t=Object(c.useState)([]),o=Object(u.a)(t,2),a=o[0],i=o[1],d=Object(c.useState)(""),s=Object(u.a)(d,2),b=s[0],O=s[1],g=Object(c.useState)(""),v=Object(u.a)(g,2),x=v[0],p=v[1],w=Object(c.useState)(""),C=Object(u.a)(w,2),y=C[0],S=C[1],N=Object(c.useState)(null),k=Object(u.a)(N,2),B=k[0],F=k[1],L=Object(c.useState)(e),T=Object(u.a)(L,2),A=T[0],D=T[1];return Object(c.useEffect)((function(){return j.getAll().then((function(e){i(e)}))}),[]),Object(r.jsxs)("div",{children:[Object(r.jsx)("h1",{children:"Phonebook"}),Object(r.jsx)(f,{message:B,style:A}),Object(r.jsx)(h,{filter:y,handleFilterChange:function(e){return S(e.target.value)}}),Object(r.jsx)("h2",{children:"add a new"}),Object(r.jsx)(m,{addContact:function(t){t.preventDefault(),a.every((function(e){return e.name!==b}))?j.create({name:b,number:x}).then((function(n){i(a.concat(n)),D(e),F("Added ".concat(n.name)),setTimeout((function(){F(null)}),5e3)})):window.confirm("".concat(b," is already added to phonebook, replace the old number with new one?"))&&j.modify({name:b,number:x,id:a.filter((function(e){return e.name===b})).map((function(e){return e.id}))[0]}).then((function(e){return i(a.map((function(n){return n.id!==e.id?n:e})))})).catch((function(e){D(n),F("Information of ".concat(b," has already been removed from server")),setTimeout((function(){F(null)}),5e3),i(a.filter((function(e){return e.name!==b})))})),O(""),p("")},newName:b,handleNameChange:function(e){return O(e.target.value)},newNumber:x,handleNumberChange:function(e){return p(e.target.value)}}),Object(r.jsx)("h2",{children:"Numbers"}),Object(r.jsx)(l,{contacts:a,filter:y,removeButtonHandler:function(e){j.remove(e),i(a.filter((function(n){return n.id!==e})))}})]})},g=function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,39)).then((function(n){var t=n.getCLS,r=n.getFID,c=n.getFCP,o=n.getLCP,a=n.getTTFB;t(e),r(e),c(e),o(e),a(e)}))};i.a.render(Object(r.jsx)(o.a.StrictMode,{children:Object(r.jsx)(O,{})}),document.getElementById("root")),g()}},[[38,1,2]]]);
//# sourceMappingURL=main.08a00493.chunk.js.map